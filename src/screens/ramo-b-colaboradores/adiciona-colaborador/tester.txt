import React, { useState } from "react";
import { SimpleGrid, Box as ChakraBox } from "@chakra-ui/react";
import Bannerhome from '../../../components/bannerhome';
import Rodape from '../../../components/rodape';
import TituloPagina from "../../../components/titulopagina";
import { FormControl, TextField, Box, InputLabel, MenuItem, Select } from '@mui/material';
import Botao from "../../../components/botao";
import "./adiciona-colaborador.css"; // Importe seu arquivo de estilos CSS aqui

function CadastroColaborador() {
    const [job, setJob] = useState('');
    const [department, setDepartment] = useState('');
    const [email, setEmail] = useState('');
    const [emailError, setEmailError] = useState('');

    const handleChangeDepartment = (event) => {
        setDepartment(event.target.value);
    };

    const handleChangeJob = (event) => {
        setJob(event.target.value);
    };

    const handleChangeEmail = (event) => {
        const value = event.target.value;
        setEmail(value);

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)) {
            setEmailError('Email invÃ¡lido');
        } else {
            setEmailError('');
        }
    };

    const handleSubmit = (e) => {
        e.preventDefault();
        if (emailError) {
            console.log("Corrija os erros antes de enviar.");
            return;
        }
        console.log("Ativei!");
    };

    return (
        <>
            <Bannerhome />
            <TituloPagina titulopagina="Adicionar colaborador" />
            <form className="conteiner-cadastro" onSubmit={handleSubmit}>
                <SimpleGrid columns={2} spacingX="5rem" spacingY="4rem" autoComplete="on">
                    <TextField className="campo" required id="fullName" label="Nome completo"/>
                    <FormControl fullWidth className="campo">
                        <InputLabel id="collaboratorDepartment">Departamento</InputLabel>
                        <Select required labelId="collaboratorDepartment" id="collaboratorDepartment" value={department} label="Departamento" onChange={handleChangeDepartment}>
                            <MenuItem value={1}>Departamento 1</MenuItem>
                            <MenuItem value={2}>Departamento 2</MenuItem>
                            <MenuItem value={3}>Departamento 3</MenuItem>
                        </Select>
                    </FormControl>
                    <TextField className="campo" required id="email" label="Email" value={email} onChange={handleChangeEmail} error={!!emailError} helperText={emailError}/>    
                    <FormControl fullWidth className="campo">
                        <InputLabel id="collaboratorPosition">Cargo</InputLabel>
                        <Select required labelId="collaboratorPosition" id="collaboratorPosition" value={job} label="Cargo" onChange={handleChangeJob}>
                            <MenuItem value={1}>Cargo 1</MenuItem>
                            <MenuItem value={2}>Cargo 2</MenuItem>
                            <MenuItem value={3}>Cargo 3</MenuItem>
                        </Select>
                    </FormControl>
                </SimpleGrid>
                <div className="botoes">
                    <Botao type='submit' color='roxo'>Confirmar</Botao>
                    <Botao type='reset' color='branco'>Cancelar</Botao>
                </div>
            </form>
            <Rodape />
        </>
    );
}

export default CadastroColaborador;
